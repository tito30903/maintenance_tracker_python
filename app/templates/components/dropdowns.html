{# Reusable dropdown components #}

{# Status dropdown menu items #}
{% macro status_menu_items() %}
<button class="w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm" data-status="1">
    <span class="inline-block w-2 h-2 rounded-full bg-yellow-400 mr-2"></span>Open
</button>
<button class="w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm" data-status="2">
    <span class="inline-block w-2 h-2 rounded-full bg-blue-400 mr-2"></span>In Progress
</button>
<button class="w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm" data-status="3">
    <span class="inline-block w-2 h-2 rounded-full bg-green-400 mr-2"></span>Closed
</button>
{% endmacro %}

{# Priority dropdown menu items #}
{% macro priority_menu_items() %}
<button class="w-full flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 text-sm" data-priority="3">
    <img src="/static/images/high-priority.svg" class="w-4 h-4" alt="High Priority" />
    High
</button>
<button class="w-full flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 text-sm" data-priority="2">
    <img src="/static/images/medium-priority.svg" class="w-4 h-4" alt="Medium Priority" />
    Medium
</button>
<button class="w-full flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 text-sm" data-priority="1">
    <img src="/static/images/low-priority.svg" class="w-4 h-4" alt="Low Priority" />
    Low
</button>
{% endmacro %}

{# Assignee dropdown menu (with unassigned option) #}
{% macro assignee_menu_base() %}
<button class="w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm text-gray-500" data-assignee="">
    Unassigned
</button>
{# Technicians added dynamically via JS #}
{% endmacro %}

{# Dropdown wrapper #}
{% macro dropdown_menu(id, classes="", position="right-0") %}
<div id="{{ id }}" class="absolute {{ position }} top-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-1 min-w-[120px] z-50 hidden {{ classes }}">
    {{ caller() }}
</div>
{% endmacro %}

{# Filter status dropdown items (includes "All" option) #}
{% macro filter_status_menu_items() %}
<button class="w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm" data-filter-status="">
    <span class="inline-block w-2 h-2 rounded-full bg-gray-400 mr-2"></span>All Statuses
</button>
{{ status_menu_items() | replace('data-status', 'data-filter-status') }}
{% endmacro %}

{# Filter priority dropdown items (includes "All" option) #}
{% macro filter_priority_menu_items() %}
<button class="w-full flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 text-sm" data-filter-priority="">
    <img src="/static/images/all-priorities.svg" class="w-4 h-4" alt="All Priorities" />
    All Priorities
</button>
<button class="w-full flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 text-sm" data-filter-priority="3">
    <img src="/static/images/high-priority.svg" class="w-4 h-4" alt="High Priority" />
    High
</button>
<button class="w-full flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 text-sm" data-filter-priority="2">
    <img src="/static/images/medium-priority.svg" class="w-4 h-4" alt="Medium Priority" />
    Medium
</button>
<button class="w-full flex items-center gap-2 px-3 py-1.5 hover:bg-gray-100 text-sm" data-filter-priority="1">
    <img src="/static/images/low-priority.svg" class="w-4 h-4" alt="Low Priority" />
    Low
</button>
{% endmacro %}
